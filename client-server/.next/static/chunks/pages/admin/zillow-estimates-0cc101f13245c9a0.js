(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{7326:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/zillow-estimates",function(){return s(1149)}])},5334:function(e,t,s){"use strict";var l=s(5893),a=s(1664),r=s.n(a);let n=()=>(0,l.jsx)("header",{className:"bg-blue-500 py-4",children:(0,l.jsxs)("nav",{className:"container mx-auto flex items-center justify-between px-4",children:[(0,l.jsx)("h1",{className:"text-white font-bold text-2xl",children:"Housing Prices Tracker"}),(0,l.jsxs)("ul",{className:"flex",children:[(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"text-white hover:text-gray-200 px-3 py-2",href:"/",children:"Home"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"text-white hover:text-gray-200 px-3 py-2",href:"/admin",children:"Admin"})})]})]})});t.Z=n},1465:function(e,t,s){"use strict";var l=s(5893),a=s(1664),r=s.n(a);let n=()=>(0,l.jsx)("nav",{className:" h-full w-64 bg-gray-100",children:(0,l.jsxs)("ul",{className:"list-none p-0 m-0 mt-12",children:[(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white ",href:"/admin/houses",children:"Houses"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white ",href:"/admin/regions",children:"Regions"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/cities",children:"Cities"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/states",children:"States"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/zillow-estimates",children:"Zillow Estimates"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/region-statistics",children:"Region Statistics"})})]})});t.Z=n},1149:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return v},default:function(){return N}});var l=s(5893),a=s(5334),r=s(1465),n=s(8193),i=s(9352);let c=e=>{let{zillowEstimate:t,onDelete:s,onUpdate:a}=e;return(0,l.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[(0,l.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("span",{className:"font-medium",children:["$",t.zestimate.toFixed(2)]})})}),(0,l.jsx)("td",{className:"py-3 px-6 text-left",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("span",{children:t.date})})}),(0,l.jsx)("td",{className:"py-3 px-6 text-left",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("span",{children:t.home_id})})}),(0,l.jsx)("td",{className:"py-3 px-6 text-center",children:(0,l.jsxs)("div",{className:"flex item-center justify-center",children:[(0,l.jsx)("button",{className:"w-6 h-6 text-yellow-500 transition-colors duration-150 hover:text-yellow-600",onClick:()=>a(t),children:(0,l.jsx)(n.$iz,{})}),(0,l.jsx)("button",{className:"w-6 h-6 text-red-500 ml-4 transition-colors duration-150 hover:text-red-600",onClick:()=>s(t.zillow_price_id),children:(0,l.jsx)(i.GnT,{})})]})})]})};var o=s(7294);let d=e=>{let{onSubmit:t,zillowEstimateToEdit:s,houses:a}=e,[r,n]=(0,o.useState)(void 0),[i,c]=(0,o.useState)(void 0),[d,h]=(0,o.useState)(void 0);(0,o.useEffect)(()=>{s&&(n(s.zestimate),c(s.date),h(s.home_id))},[s]);let x=e=>{e.preventDefault(),r&&i&&d&&(t({zestimate:r,date:i,home_id:d}),n(void 0),c(void 0),h(void 0))};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-10",children:(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsxs)("form",{className:"bg-white p-8 rounded-lg w-1/3",onSubmit:x,children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Zestimate"}),(0,l.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"number",value:r,onChange:e=>n(e.target.valueAsNumber)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Date"}),(0,l.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"date",value:i,onChange:e=>c(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Home ID"}),(0,l.jsxs)("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:d,onChange:e=>h(parseInt(e.target.value)),children:[(0,l.jsx)("option",{value:"",children:"Select a house"}),a.map(e=>(0,l.jsx)("option",{value:e.home_id,children:e.home_id},e.home_id))]})]}),(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:s?"Update":"Create"})})]})})})},h=e=>{let{zillowEstimates:t,houses:s,onCreate:a,onUpdate:r,onDelete:n}=e,[i,h]=(0,o.useState)(!1);return(0,l.jsxs)("div",{className:"w-full p-4",children:[(0,l.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4",onClick:()=>h(!0),children:"Create New"}),t.length>0?(0,l.jsxs)("table",{className:"w-full table-auto",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[(0,l.jsx)("th",{className:"py-3 px-6 text-left",children:"Zestimate"}),(0,l.jsx)("th",{className:"py-3 px-6 text-left",children:"Date"}),(0,l.jsx)("th",{className:"py-3 px-6 text-left",children:"Home ID"}),(0,l.jsx)("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"text-gray-600 text-sm font-light",children:t.map(e=>(0,l.jsx)(c,{zillowEstimate:e,onDelete:n,onUpdate:r},e.zillow_price_id))})]}):(0,l.jsxs)("div",{className:"bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 mt-4",role:"alert",children:[(0,l.jsx)("p",{className:"font-bold",children:"No Zillow Estimates"}),(0,l.jsx)("p",{className:"text-sm",children:"No Zillow estimates exist right now. Please add one using the form above."})]}),i&&(0,l.jsx)(d,{onSubmit:a,houses:s})]})};var x=s(6154),u=s(6167);let m=u.f+"/api/Zillow-Estimates";x.Z.interceptors.response.use(e=>e,e=>{throw console.error(e),e});let p=async()=>{let e=await x.Z.get(m);return e.data},f=async e=>{let t=await x.Z.post(m,e);return t.data},b=async e=>{let t=e.zillow_price_id,s=await x.Z.put("".concat(m,"/").concat(t),e);return s.data},j=async e=>{let t=await x.Z.delete("".concat(m,"/").concat(e));return t.data};var w={getZillowEstimates:p,createZillowEstimate:f,updateZillowEstimate:b,deleteZillowEstimate:j};let y=e=>{let[t,s]=(0,o.useState)(e),l=async e=>{try{let l=await w.createZillowEstimate(e);s([...t,l])}catch(e){console.error("Error creating Zillow Estimate:",e)}},a=async e=>{try{await w.updateZillowEstimate(e),s(t.map(t=>t.zillow_price_id===e.zillow_price_id?e:t))}catch(e){console.error("Error updating Zillow Estimate:",e)}},r=async e=>{try{await w.deleteZillowEstimate(e),s(t.filter(t=>t.zillow_price_id!==e))}catch(e){console.error("Error deleting Zillow Estimate:",e)}};return{zillowEstimates:t,createZillowEstimate:l,updateZillowEstimate:a,deleteZillowEstimate:r}},g=e=>{let{zillowEstimates:t,houses:s}=e,{zillowEstimates:n,createZillowEstimate:i,updateZillowEstimate:c,deleteZillowEstimate:o}=y(t);return(0,l.jsxs)("div",{className:"bg-gray-50 h-screen",children:[(0,l.jsx)(a.Z,{}),(0,l.jsxs)("div",{className:"flex flex-row h-screen",children:[(0,l.jsx)(r.Z,{}),(0,l.jsx)("div",{className:"flex flex-col items-center bg-gray-50 w-full",children:(0,l.jsx)(h,{zillowEstimates:n,houses:s,onCreate:i,onUpdate:c,onDelete:o})})]})]})};var v=!0,N=g},6167:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});let l="http://flip1.engr.oregonstate.edu:9178"},8357:function(e,t,s){"use strict";s.d(t,{w_:function(){return c}});var l=s(7294),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=l.createContext&&l.createContext(a),n=function(){return(n=Object.assign||function(e){for(var t,s=1,l=arguments.length;s<l;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(s[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)0>t.indexOf(l[a])&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(s[l[a]]=e[l[a]]);return s};function c(e){return function(t){return l.createElement(o,n({attr:n({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return l.createElement(t.tag,n({key:s},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var s,a=e.attr,r=e.size,c=e.title,o=i(e,["attr","size","title"]),d=r||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),l.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:s,style:n(n({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&l.createElement("title",null,c),e.children)};return void 0!==r?l.createElement(r.Consumer,null,function(e){return t(e)}):t(a)}}},function(e){e.O(0,[937,617,664,154,774,888,179],function(){return e(e.s=7326)}),_N_E=e.O()}]);