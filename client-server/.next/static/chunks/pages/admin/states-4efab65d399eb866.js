(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{2314:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/states",function(){return s(380)}])},5334:function(e,t,s){"use strict";var a=s(5893),r=s(1664),l=s.n(r);let n=()=>(0,a.jsx)("header",{className:"bg-blue-500 py-4",children:(0,a.jsxs)("nav",{className:"container mx-auto flex items-center justify-between px-4",children:[(0,a.jsx)("h1",{className:"text-white font-bold text-2xl",children:"Housing Prices Tracker"}),(0,a.jsxs)("ul",{className:"flex",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"text-white hover:text-gray-200 px-3 py-2",href:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"text-white hover:text-gray-200 px-3 py-2",href:"/admin",children:"Admin"})})]})]})});t.Z=n},1465:function(e,t,s){"use strict";var a=s(5893),r=s(1664),l=s.n(r);let n=()=>(0,a.jsx)("nav",{className:" h-full w-64 bg-gray-100",children:(0,a.jsxs)("ul",{className:"list-none p-0 m-0 mt-12",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white ",href:"/admin/houses",children:"Houses"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white ",href:"/admin/regions",children:"Regions"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/cities",children:"Cities"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/states",children:"States"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/zillow-estimates",children:"Zillow Estimates"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/region-statistics",children:"Region Statistics"})})]})});t.Z=n},380:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return y},default:function(){return N}});var a=s(5893),r=s(5334),l=s(1465),n=s(6154),c=s(6167);let i=c.f+"/api/States";n.Z.interceptors.response.use(e=>e,e=>{throw console.error(e),e});let o=async()=>{let e=await n.Z.get(i);return e.data},d=async e=>{let t=await n.Z.post(i,e);return t.data},x=async e=>{let t=await n.Z.put("".concat(i,"/").concat(e.state_id),e);return t.data},h=async e=>{let t=await n.Z.delete("".concat(i,"/").concat(e));return t.data};var m={getStates:o,createState:d,updateState:x,deleteState:h},u=s(7294);let b=e=>{let{onCreateState:t}=e,[s,r]=(0,u.useState)(""),l=e=>{if(e.preventDefault(),""===s.trim()){console.error("State name cannot be empty.");return}t({state_id:0,name:s.trim()}),r("")};return(0,a.jsxs)("form",{onSubmit:l,className:"w-full mt-4",children:[(0,a.jsx)("label",{htmlFor:"stateName",className:"block text-lg font-bold mb-2",children:"State Name"}),(0,a.jsx)("input",{type:"text",id:"stateName",name:"stateName",value:s,onChange:e=>r(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter state name"}),(0,a.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-4",children:"Create State"})]})},p=e=>{let[t,s]=(0,u.useState)(e),a=async e=>{try{await m.deleteState(e),s(t.filter(t=>t.state_id!==e))}catch(e){console.error("Error deleting state:",e)}},r=async e=>{try{let a=await m.createState(e);console.log("Created state:",a),s([...t,a])}catch(e){console.error("Error creating state:",e)}};return{states:t,deleteState:a,createState:r}},f=e=>{let{states:t}=e,{states:s,deleteState:n,createState:c}=p(t),[i,o]=(0,u.useState)(!1);return(0,a.jsxs)("div",{className:"bg-gray-50 h-screen",children:[(0,a.jsx)(r.Z,{}),(0,a.jsxs)("div",{className:"flex flex-row h-screen",children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:"flex flex-row justify-center w-full bg-gray-50",children:(0,a.jsx)(j,{states:s,onDeleteState:n,onCreateState:c,showCreateForm:i,setShowCreateForm:o})})]})]})},j=e=>{let{states:t,onDeleteState:s,onCreateState:r,showCreateForm:l,setShowCreateForm:n}=e;return(0,a.jsx)("div",{className:"w-full h-screen",children:(0,a.jsx)("div",{className:"container mx-auto py-12",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,a.jsx)("div",{className:"text-center max-w-screen-lg",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"States"}),(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4",onClick:()=>n(!l),children:l?"Cancel":"Add New State"}),l&&(0,a.jsx)(b,{onCreateState:r}),(0,a.jsx)("div",{className:"shadow bg-white px-8 py-8 rounded text-center mt-4",children:(0,a.jsxs)("table",{className:"table-auto w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-lg font-bold",children:"#"}),(0,a.jsx)("th",{className:"px-4 py-2 text-lg font-bold",children:"State Name"}),(0,a.jsx)("th",{className:"px-4 py-2 text-lg font-bold",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:t.map(e=>(0,a.jsx)(g,{state:e,onDeleteState:s},e.state_id))})]})})]})})})})})},g=e=>{let{state:t,onDeleteState:s}=e,r=()=>{s(t.state_id)};return(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("td",{className:"border px-4 py-2 text-lg",children:t.state_id}),(0,a.jsx)("td",{className:"border px-4 py-2 text-lg",children:t.name}),(0,a.jsx)("td",{className:"border px-4 py-2",children:(0,a.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded",onClick:r,children:"Delete"})})]})};var y=!0,N=f},6167:function(e,t,s){"use strict";s.d(t,{f:function(){return a}});let a="http://flip1.engr.oregonstate.edu:9178"}},function(e){e.O(0,[664,154,774,888,179],function(){return e(e.s=2314)}),_N_E=e.O()}]);