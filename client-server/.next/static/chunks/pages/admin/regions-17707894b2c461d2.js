(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{1742:function(e,t,s){let l=s(7294),i=l.forwardRef(function({title:e,titleId:t,...s},i){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"}))});e.exports=i},4307:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/regions",function(){return s(1637)}])},5334:function(e,t,s){"use strict";var l=s(5893),i=s(1664),n=s.n(i);let a=()=>(0,l.jsx)("header",{className:"bg-blue-500 py-4",children:(0,l.jsxs)("nav",{className:"container mx-auto flex items-center justify-between px-4",children:[(0,l.jsx)("h1",{className:"text-white font-bold text-2xl",children:"Housing Prices Tracker"}),(0,l.jsxs)("ul",{className:"flex",children:[(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"text-white hover:text-gray-200 px-3 py-2",href:"/",children:"Home"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"text-white hover:text-gray-200 px-3 py-2",href:"/admin",children:"Admin"})})]})]})});t.Z=a},1465:function(e,t,s){"use strict";var l=s(5893),i=s(1664),n=s.n(i);let a=()=>(0,l.jsx)("nav",{className:" h-full w-64 bg-gray-100",children:(0,l.jsxs)("ul",{className:"list-none p-0 m-0 mt-12",children:[(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white ",href:"/admin/houses",children:"Houses"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white ",href:"/admin/regions",children:"Regions"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/cities",children:"Cities"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/states",children:"States"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/zillow-estimates",children:"Zillow Estimates"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n(),{className:"block text-black py-3 px-6 hover:bg-gray-700 hover:text-white",href:"/admin/region-statistics",children:"Region Statistics"})})]})});t.Z=a},1637:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return v},default:function(){return y}});var l=s(5893),i=s(5334),n=s(1465),a=s(7294);let r=e=>{let{setCurrentRegion:t,regions:s}=e,i=()=>{t({region_id:"-1",region_name:"Update Name",region_description:"",cities:[]})},n=e=>{console.log(e);let l=s.find(t=>t.region_id.toString()===e);console.log(l),t(l)};return(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"",children:(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,l.jsx)("div",{className:"text-center ",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Regions"}),(0,l.jsxs)("div",{className:"shadow bg-white px-16 py-8 rounded text-center my-4",children:[(0,l.jsxs)("table",{className:"table-auto",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{}),(0,l.jsx)("th",{className:"px-8 py-2",children:"#"}),(0,l.jsx)("th",{className:"px-8 py-2",children:"Region Name"}),(0,l.jsx)("th",{})]})}),(0,l.jsx)("tbody",{children:s.map((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{children:[(0,l.jsx)("input",{type:"radio",id:"radio-button",name:"radio-group",value:e.region_id,onChange:e=>n(e.target.value),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mr-4"})," "]}),(0,l.jsx)("td",{className:"border px-6 py-2",children:t+1}),(0,l.jsx)("td",{className:"border px-6 py-2",children:e.region_name})]},e.region_id))})]}),(0,l.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-8",onClick:i,children:"Add Region"})]})]})})})})})})},c=e=>{let{setShowAddCity:t,cities:s,all_cities:i,onAddCity:n}=e,a=i.filter(e=>!s.includes(e.city_name)),r=Math.min(a.length,5);console.log("logging num of columns"),console.log(r);let c=e=>{n(e)};return(0,l.jsxs)("div",{className:"fixed h-screen w-screen flex items-center justify-center ",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center bg-white px-8 py-8 z-10 rounded ",children:[(0,l.jsx)("h2",{className:"text-xl text-center",children:" Select City"}),(0,l.jsx)("div",{className:"grid grid-cols-".concat(r," grid-rows-5 gap-x-2 gap-y-2 mt-6"),children:a.map(e=>(0,l.jsx)("button",{className:"flex flex-row px-4 py-2 bg-gray-100 rounded hover:bg-gray-300 justify-center active:scale-95",value:e.city_name,onClick:()=>c(e.city_name),title:e.state,children:(0,l.jsx)("div",{className:"px-2",children:e.city_name})},e.city_id))}),(0,l.jsx)("div",{className:"w-full text-right",children:(0,l.jsx)("button",{className:" px-4 py-2 text-right hover:underline hover:underline-offset-1 text-slate-700 hover:text-black active:scale-95",onClick:()=>t(!1),children:"Cancel"})})]}),(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 "})]})};var o=s(1742),d=s(6154),x=s(6167);let h=x.f+"/api/Regions";d.Z.interceptors.response.use(e=>e,e=>{throw console.error(e),e});let g=async e=>{let t=await d.Z.post(h,e);return t.data},u=async()=>{let e=await d.Z.get(h);return e.data},m=async e=>{console.log("about to update regions"),console.log(e);let t=await d.Z.put(h+"/".concat(e.region_id),e);return t.data},j=async e=>{let t=await d.Z.delete(h+"/".concat(e));return t.data};var p={getRegions:u,createRegion:g,updateRegion:m,deleteRegion:j};let f=e=>{let{currentRegion:t,all_cities:s}=e,[i,n]=(0,a.useState)(""),[r,d]=(0,a.useState)(""),[x,h]=(0,a.useState)([]),[g,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&(d(t.region_name),n(t.region_description),h(t.cities))},[t]);let m=e=>{console.log("inside remove city");let t=x.filter(t=>t!==e);h(t)},j=()=>{u(!0)},f=e=>{u(!1),h([...x,e])},b=async()=>{console.log("inside update region");try{let e={region_id:t.region_id,region_name:r,region_description:i,cities:x};console.log(e),-1==e.region_id?await p.createRegion(e):await p.updateRegion(e),window.location.reload()}catch(e){console.log(e)}},v=async()=>{console.log("inside delete region");try{await p.deleteRegion(t.region_id),window.location.reload()}catch(e){console.log(e)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col w-3/4 bg-white px-8 py-8 shadow",children:[(0,l.jsx)("input",{className:"text-xl font-bold mb-4",value:r,onChange:e=>d(e.target.value)}),(0,l.jsx)("textarea",{className:" rounded-lg outline outline-offset-2 outline-1 outline-slate-500 focus:outline-blue-500 text-start h-36",onChange:e=>n(e.target.value),value:i}),(0,l.jsx)("label",{className:"mt-4 text-lg font-bold",children:"Cities"}),(0,l.jsxs)("div",{className:"grid grid-cols-5 gap-x-4 gap-y-4 mt-4 text-center",children:[x.map(e=>(0,l.jsxs)("div",{className:"flex ",children:[(0,l.jsx)("div",{className:"px-4 py-2 border grow mr-2",children:e}),(0,l.jsxs)("button",{onClick:()=>m(e),className:"active:scale-75",children:[(0,l.jsx)(o,{className:"w-6 h-6 cursor-pointer"})," "]})]},e)),(0,l.jsx)("button",{className:"px-4 py-2 bg-gray-200 text-slate-700 rounded hover:text-black hover:bg-gray-400 active:scale-95 ",onClick:j,children:"Add City"})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-end mt-4",children:[(0,l.jsx)("button",{type:"button",className:"mr-4 hover:underline hover:underline-offset-1 text-slate-700 hover:text-black active:scale-95",onClick:v,children:"Delete"}),(0,l.jsx)("button",{className:" bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 active:scale-95",onClick:b,children:"Save"})]})]}),g&&(0,l.jsx)(c,{setShowAddCity:u,cities:x,all_cities:s,onAddCity:f})]})},b=e=>{let{regions:t,all_cities:s}=e,[c,o]=(0,a.useState)(void 0);return(0,l.jsxs)("div",{className:"bg-gray-50 h-screen",children:[(0,l.jsx)(i.Z,{}),(0,l.jsxs)("div",{className:"flex flex-row h-screen ",children:[(0,l.jsx)(n.Z,{}),(0,l.jsxs)("div",{className:"flex flex-col items-center bg-gray-50 w-full",children:[(0,l.jsx)(r,{setCurrentRegion:o,regions:t}),c&&(0,l.jsx)(f,{currentRegion:c,all_cities:s})]})]})]})};var v=!0,y=b},6167:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});let l="http://flip1.engr.oregonstate.edu:9178"}},function(e){e.O(0,[664,154,774,888,179],function(){return e(e.s=4307)}),_N_E=e.O()}]);